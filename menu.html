<span style="background: black; font-family: Arial; font-weight: 400; width: 100% !important; display: block; text-align: center; color: white;"> ⚠️  Served by FreeNews R.Proxy | <span style="cursor: pointer; font-weight: bold" onclick="share()">Share 🌍</span></span>

<script>
let loaded = false;

function loadDeps(cb){
  if (loaded){
    cb();
  }else {
    // Load moz-readability
    var script = document.createElement('script');
    script.onload = () => {
      loaded = true;
      cb();
    };
    script.src = "https://cdn.jsdelivr.net/npm/moz-readability@0.2.1/Readability.min.js";

    document.head.appendChild(script);
  }
}

function share(){
  if(!loaded) return;
  try{
    const documentClone = document.cloneNode(true);
    const article = new Readability(documentClone).parse();
    navigator.share({
      title: article.title,
      text: article.textContent,
      url: window.location.href,
    }).catch((err) => {
      alert(err);
    });
  }catch(err){
    alert(err);
  }
}

loadDeps();
</script>
